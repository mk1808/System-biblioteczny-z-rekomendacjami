<app-main-content [title]="title" [contentClass]="rulesHeight">
  <div class="acc-container">
    <ngb-accordion activeIds="ngb-panel-0">
      <ngb-panel [title]="accHeaders.borrowed" cardClass="my-accordion">
        <ng-template ngbPanelContent>
          <table class="ui celled table">
            <thead>
              <tr>
                <th>{{'booklist.table.no'|i18next}}</th>
                <th>{{'booklist.table.title'|i18next}}</th>
                <th>{{'booklist.table.author'|i18next}}</th>
                <th>{{'booklist.table.borrowingDate'|i18next}}</th>
                <th>{{'booklist.table.dueDate'|i18next}}</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let borrowing of borrowings|async; let i = index">
                <td data-label="Name" class="one wide">{{i+1}}</td>
                <td data-label="Age">{{borrowing.bookCopy.book.title}}</td>
                <td data-label="Job">{{formatAuthors(borrowing.bookCopy.book.authors)}}</td>
                <td data-label="Job">{{borrowing.borrowDate | date: 'dd.MM.yyyy'}}</td>
                <td data-label="Job">{{borrowing.expectedReturnDate | date: 'dd.MM.yyyy'}}</td>
                <td class="three wide">
                  <app-button [text]="prolongText" [btnClass]="btnClass"></app-button>
                </td>
              </tr>
            </tbody>
          </table>
        </ng-template>
      </ngb-panel>
      <ngb-panel [title]="accHeaders.reserved" cardClass="my-accordion">
        <ng-template ngbPanelContent>
          <table class="ui celled table">
            <thead>
              <tr>
                <th>{{'booklist.table.no'|i18next}}</th>
                <th>{{'booklist.table.title'|i18next}}</th>
                <th>{{'booklist.table.author'|i18next}}</th>
                <th>{{'booklist.table.reservedDate'|i18next}}</th>
                <th>{{'booklist.table.noInQueue'|i18next}}</th>
                <th>{{'booklist.table.expectedAvailabilityDate'|i18next}}</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let reservation of reservations|async; let i = index">
                <td data-label="Name" class="one wide">{{i+1}}</td>
                <td data-label="Age">{{reservation.book.title}}</td>
                <td data-label="Job">{{formatAuthors(reservation.book.authors)}}</td>
                <td data-label="Job">{{reservation.reservationDate| date: 'dd.MM.yyyy'}}</td>
                <td data-label="Job">1</td>
                <td data-label="Job">{{reservation.availabilityStartDate| date: 'dd.MM.yyyy'}}</td>
                <td class="three wide">
                  <app-button [text]="resignText" [btnClass]="btnClass"></app-button>
                </td>
              </tr>
            </tbody>
          </table>
        </ng-template>
      </ngb-panel>
      <ngb-panel [title]="accHeaders.borrowedInPast" cardClass="my-accordion">
        <ng-template ngbPanelContent>
          <table class="ui celled table">
            <thead>
              <tr>
                <th>{{'booklist.table.no' | i18next}}</th>
                <th>{{'booklist.table.title' | i18next}}</th>
                <th>{{'booklist.table.author' | i18next}}</th>
                <th>{{'booklist.table.borrowingDate' | i18next}}</th>
                <th>{{'booklist.table.expectedReturnDate' | i18next}}</th>
                <th>{{'booklist.table.returnDate' | i18next}}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let pastBorrowing of pastBorrowings|async; let i = index">
                <td data-label="Name" class="one wide">{{i+1}}</td>
                <td data-label="Age">{{pastBorrowing.bookCopy.book.title}}</td>
                <td data-label="Job">{{formatAuthors(pastBorrowing.bookCopy.book.authors)}}</td>
                <td data-label="Job">{{pastBorrowing.borrowDate | date: 'dd.MM.yyyy'}}</td>
                <td data-label="Job">{{pastBorrowing.expectedReturnDate | date: 'dd.MM.yyyy'}}</td>
                <td data-label="Job">{{pastBorrowing.returnDate | date: 'dd.MM.yyyy'}}</td>
              </tr>
            </tbody>
          </table>
        </ng-template>
      </ngb-panel>
      <ngb-panel [title]="accHeaders.toReadList" cardClass="my-accordion">
        <ng-template ngbPanelContent>
          <table class="ui celled table">
            <thead>
              <tr>
                <th>{{'booklist.table.no'|i18next}}</th>
                <th>{{'booklist.table.title'|i18next}}</th>
                <th>{{'booklist.table.author'|i18next}}</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let toReadBook of toReadBooks; let i = index">
                <td data-label="Name" class="one wide">{{i+1}}</td>
                <td data-label="Age">{{toReadBook.book.title}}</td>
                <td data-label="Job">{{formatAuthors(toReadBook.book.authors)}}</td>
                <td class="three wide">
                  <app-button [text]="deleteText" [btnClass]="btnClass"></app-button>
                </td>
              </tr>
            </tbody>
          </table>
        </ng-template>
      </ngb-panel>
      <ngb-panel [title]="accHeaders.favList" cardClass="my-accordion">
        <ng-template ngbPanelContent>
          <table class="ui celled table">
            <thead>
              <tr>
                <th>{{'booklist.table.no'|i18next}}</th>
                <th>{{'booklist.table.title'|i18next}}</th>
                <th>{{'booklist.table.author'|i18next}}</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let favBook of favBooks; let i = index">
                <td data-label="Name" class="one wide">{{i+1}}</td>
                <td data-label="Age">{{favBook.book.title}}</td>
                <td data-label="Job">{{formatAuthors(favBook.book.authors)}}</td>
                <td class="three wide">
                  <app-button [text]="deleteText" [btnClass]="btnClass"></app-button>
                </td>
              </tr>
            </tbody>
          </table>
        </ng-template>
      </ngb-panel>
      <ngb-panel [title]="accHeaders.rated" cardClass="my-accordion">
        <ng-template ngbPanelContent>
          <table class="ui celled table">
            <thead>
              <tr>
                <th>{{'booklist.table.no'|i18next}}</th>
                <th>{{'booklist.table.title'|i18next}}</th>
                <th>{{'booklist.table.author'|i18next}}</th>
                <th>{{'booklist.table.rating'|i18next}}</th>
                <th>{{'booklist.table.comment'|i18next}}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let comment of comments; let i = index">
                <td data-label="Name" class="one wide">{{i+1}}</td>
                <td data-label="Age">{{comment.book.title}}</td>
                <td data-label="Job">{{formatAuthors(comment.book.authors)}}</td>
                <td data-label="Job">{{comment.rating}}</td>
                <td data-label="Job" class="eight wide">{{comment.comment}}</td>
              </tr>
            </tbody>
          </table>
        </ng-template>
      </ngb-panel>
    </ngb-accordion>
  </div>
</app-main-content>